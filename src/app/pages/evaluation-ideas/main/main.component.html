<h2>ارزیابی ایده ها</h2>

<form class="col-24" nz-form [formGroup]="topForm" role="form" (ngSubmit)="submit()">
  <!-- row 1 -->
  <div nz-row [nzGutter]="6">
    <!-- 1 -->
    <div nz-col nzSpan="5">
      <nz-form-item>
        <nz-form-label
          class="rtlm"
          [nzXXl]="8"
          [nzXl]="9"
          [nzLg]="11"
          [nzMd]="14"
          [nzSm]="14"
          [nzXs]="24"
          [nzRequired]="false"
          nzFor="month"
          >ماه طرح شدن</nz-form-label
        >
        <nz-form-control [nzXXl]="16" [nzXl]="15" [nzLg]="12" [nzMd]="10" [nzSm]="10" [nzXs]="24">
          <nz-select formControlName="month" nzShowSearch>
            <nz-option nzLabel="همه‌ی ماه‌ها" [nzValue]="null"></nz-option>
            <nz-option nzLabel="1" [nzValue]="1"></nz-option>
            <nz-option nzLabel="2" [nzValue]="2"></nz-option>
            <nz-option nzLabel="3" [nzValue]="3"></nz-option>
            <nz-option nzLabel="4" [nzValue]="4"></nz-option>
            <nz-option nzLabel="5" [nzValue]="5"></nz-option>
            <nz-option nzLabel="6" [nzValue]="6"></nz-option>
            <nz-option nzLabel="7" [nzValue]="7"></nz-option>
            <nz-option nzLabel="8" [nzValue]="8"></nz-option>
            <nz-option nzLabel="9" [nzValue]="9"></nz-option>
            <nz-option nzLabel="10" [nzValue]="10"></nz-option>
            <nz-option nzLabel="11" [nzValue]="11"></nz-option>
            <nz-option nzLabel="12" [nzValue]="12"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
    </div>
    <!-- 2-->
    <div nz-col nzSpan="6">
      <nz-form-item>
        <nz-form-label
          class="rtlm"
          [nzXXl]="7"
          [nzXl]="9"
          [nzLg]="11"
          [nzMd]="14"
          [nzSm]="14"
          [nzXs]="24"
          [nzRequired]="false"
          nzFor="year"
          >سال طرح شدن</nz-form-label
        >
        <nz-form-control [nzXXl]="17" [nzXl]="15" [nzLg]="12" [nzMd]="10" [nzSm]="10" [nzXs]="24">
          <nz-select formControlName="year" nzShowSearch>
            <nz-option nzLabel="همه‌ی سال‌ها" [nzValue]="null"></nz-option>
            <nz-option *ngFor="let option of years" [nzLabel]="option" [nzValue]="option"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
    </div>
    <!-- 3 -->
    <div nz-col nzSpan="6">
      <nz-form-item>
        <nz-form-control [nzSpan]="14" [nzOffset]="6">
          <button nz-button nzType="primary">جست و جو</button>
        </nz-form-control>
      </nz-form-item>
    </div>
  </div>
</form>

<!-- table grid 1-->
<nz-table nzBordered [nzPageSize]="10" nzTitle="ایده های بررسی نشده" #editRowTable [nzData]="gridDataNotDecidedIdea">
  <thead>
    <tr>
      <th nzWidth="5%">#</th>
      <th nzWidth="20%">موضوع ایده</th>
      <th nzWidth="8%">تعداد رای ها</th>
      <th nzWidth="17%">نام و نام خانوادگی طراح</th>
      <th nzWidth="17%">نام کاربری</th>
      <th nzWidth="8%">تاریخ مطرح شدن</th>
      <th nzWidth="15%">عملیات</th>
    </tr>
  </thead>
  <tbody>
    <!-- 1 -->
    <tr *ngFor="let item of editRowTable.data; let i = index">
      <td (click)="changeVisibletyOfModal(item.Id)">{{ item.Id }}</td>
      <td (click)="changeVisibletyOfModal(item.Id)">{{ item.Title }}</td>
      <td (click)="changeVisibletyOfModal(item.Id)">{{ item.TotalPoints }}</td>
      <td (click)="changeVisibletyOfModal(item.Id)">{{ item.FullName }}</td>
      <td (click)="changeVisibletyOfModal(item.Id)">{{ item.Username }}</td>
      <td (click)="changeVisibletyOfModal(item.Id)">{{ item.SaveDate }}</td>
      <td>
        <button nz-button style="color: black;background-color: greenyellow;" (click)="accept(item.Id)">
          تایید
        </button>
        <nz-divider nzType="vertical"></nz-divider>
        <button nz-button style="color: white;background-color: red;"(click)="reject(item.Id)">رد</button>
      </td>
    </tr>
  </tbody>
</nz-table>

<hr style="border: 1px solid BLACK" />
<!-- table grid 2-->
<nz-table
  nzBordered
  [nzPageSize]="10"
  nzTitle="ایده های بررسی شده این ماه جهت تجدید نظر"
  #editRowTable1
  [nzData]="gridDataCurrentMontDecidedIdea"
>
  <thead>
    <tr>
      <th nzWidth="5%">#</th>
      <th nzWidth="20%">موضوع ایده</th>
      <th nzWidth="8%">تعداد رای ها</th>
      <th nzWidth="17%">نام و نام خانوادگی طراح</th>
      <th nzWidth="17%">نام کاربری</th>
      <th nzWidth="8%">تاریخ مطرح شدن</th>
      <th nzWidth="9%">وضعیت</th>
      <th nzWidth="6%">عملیات</th>
    </tr>
  </thead>
  <tbody>
    <!-- 1 -->
    <tr *ngFor="let item of editRowTable1.data; let i = index">
      <td (click)="changeVisibletyOfModal(item.Id)">{{ item.Id }}</td>
      <td (click)="changeVisibletyOfModal(item.Id)">{{ item.Title }}</td>
      <td (click)="changeVisibletyOfModal(item.Id)">{{ item.TotalPoints }}</td>
      <td (click)="changeVisibletyOfModal(item.Id)">{{ item.FullName }}</td>
      <td (click)="changeVisibletyOfModal(item.Id)">{{ item.Username }}</td>
      <td (click)="changeVisibletyOfModal(item.Id)">{{ item.SaveDate }}</td>

      <td *ngIf="item.StatusId === 2">
        <span style="color: red;">{{ item.Status }}</span>
      </td>
      <td style="color: green;" *ngIf="item.StatusId === 1">
        {{ item.Status }}
      </td>

      <td>
        <button nz-button nzType="primary" (click)="unVote(item.Id)">
          بررسی نشده
        </button>
      </td>
    </tr>
  </tbody>
</nz-table>

<app-show-ideas #modalShowIdea></app-show-ideas>
